
@model CRACKED.Dtos.UserDto

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Iniciar Sesión</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <!-- Campo de Correo o Usuario -->
        <div class="form-group">
            @Html.LabelFor(model => model.Name, "Usuario", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control", placeholder = "Nombre de usuario o correo electrónico" } })
                @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Campo de Contraseña con botón para ver/ocultar -->
        <div class="form-group">
            @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <div class="input-group">
                    @Html.TextBoxFor(model => model.Password, new { @class = "form-control", @type = "password", placeholder = "Contraseña", id = "txtContraseña" })
                    <div class="input-group-append">
                        <button id="togglePassword" type="button" class="btn btn-outline-secondary">
                            <i class="bi bi-eye-slash-fill"></i>
                        </button>
                    </div>
                </div>
                @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Botón de Enviar -->
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Iniciar Sesión" class="btn btn-primary" />
            </div>
        </div>
    </div>
    <!-- Registro -->
                    <p class="fst-italic">¿Aún no haces parte de nuestros clientes?</p>
                         <p class="fst-italic">¡Regístrate ahora!</p>

                                    <div class="form-group">
                                                        <button type="button" class="btn btn-secondary" onclick="window.location='@Url.Action("RegistroUsuarios", "User")'">Registrarse</button>
                                                    </div> 
                                                  
                                                                   
                                                                                                                                                                                                }

<div>
    @Html.ActionLink("Volver a la página principal", "Index", "Home")
</div>

<script>
    // Script para toggle de visibilidad de contraseña
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('txtContraseña');

    togglePassword.addEventListener('click', function () {
        // Cambiar el tipo de input para mostrar u ocultar la contraseña
        const type = passwordInput.type === 'password' ? 'text' : 'password';
        passwordInput.type = type;

        // Cambiar el ícono del botón
        togglePassword.innerHTML = type === 'password' ? '<i class="bi bi-eye-slash-fill"></i>' : '<i class="bi bi-eye-fill"></i>';
    });
</script>